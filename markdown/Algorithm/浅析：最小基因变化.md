# æµ…æï¼šæœ€å°åŸºå› å˜åŒ–

[433. æœ€å°åŸºå› å˜åŒ–](https://leetcode-cn.com/problems/minimum-genetic-mutation/)



æœ¬ç¯‡æ–‡ç« ç®€å•åˆ†æä¸€ä¸‹é¢˜ç›® [æœ€å°åŸºå› å˜åŒ–](https://leetcode-cn.com/problems/minimum-genetic-mutation/)ï¼Œè¿™ä¸ªé¢˜ç›®æ˜¯ä¸€ä¸ª BFS çš„æ¨¡ç‰ˆé¢˜ï¼Œå’Œé¢˜ç›® [æ‰“å¼€è½¬ç›˜é”](https://leetcode-cn.com/problems/open-the-lock/) å¾ˆç›¸ä¼¼ï¼Œ**è¯¦æƒ…å¯è§ [BFS ç®—æ³•æ¡†æ¶](./BFS.html)**

ä¸‹é¢ä»ä¸¤ä¸ªä¸åŒçš„è§’åº¦åˆ†ææœ¬é¢˜ï¼šã€Œå•å‘ BFSã€ã€ŒåŒå‘ BFSã€

### <font color=#1FA774>å•å‘ BFS</font>

æˆ‘ä»¬ä»¥`start`ä½œä¸ºç¬¬ 0 å±‚ï¼Œ`bank`ä¸­åœ¨`start`åŸºç¡€ä¸Šæ”¹å˜ä¸€ä½åŸºå› ä½œä¸ºç¬¬ 1 å±‚ï¼Œä¾æ¬¡ç±»æ¨ï¼Œç›´åˆ°å¯»æ‰¾åˆ°ç›®æ ‡åŸºå› 

åŒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦è®°å½•`bank`ä¸­åŸºå› çš„è®¿é—®æƒ…å†µ

ä¸‹é¢ç»™å‡ºå¯¹åº”çš„ä»£ç ï¼š

```java
public int minMutation(String start, String end, String[] bank) {
    // è½¬åŒ–æˆ set æ–¹ä¾¿æŸ¥æ‰¾
    Set<String> bankSet = new HashSet<>(Arrays.asList(bank));
    // è¾¹ç•Œå¤„ç†ï¼šå¦‚æœ end ä¸åœ¨ bank ä¸­
    if (!bankSet.contains(end)) return -1;
    // è®°å½•åŸºå› è®¿é—®æƒ…å†µ
    Set<String> used = new HashSet<>();
    Queue<String> q = new LinkedList<>();
    q.offer(start);
    used.add(start);
    int count = 0;
    while (!q.isEmpty()) {
        int size = q.size();
        for (int i = 0; i < size; i++) {
            String cur = q.poll();
            // å¦‚æœæ‰¾åˆ°ï¼Œè¿”å›æ­¥æ•°
            if (cur.equals(end)) return count;
            for (String gene : bankSet) {
            	// ä» bank ä¸­å»æ‰¾ä¸å½“å‰åŸºå› åªå‘ç”Ÿä¸€ä½æ”¹å˜çš„åŸºå› 
                if (!used.contains(gene) && isChangeOne(cur, gene)) {
                    q.offer(gene);
                    // æ ‡è®°
                    used.add(gene);
                }
            }
        }
        count++;
    }
    return -1;
}
// åˆ¤æ–­ä¸¤ä¸ªåŸºå› æ˜¯å¦åªæœ‰ä¸€ä½ä¸åŒ
private boolean isChangeOne(String source, String target) {
    int changeCount = 0;
    for (int i = 0; i < 8; i++) {
        if (source.charAt(i) != target.charAt(i)) changeCount++;
        if (changeCount > 1) return false;
    }
    return changeCount == 1;
}
```

### <font color=#1FA774>åŒå‘ BFS</font>

è¿™ä¸ªé¢˜ç›®ä¹Ÿç¬¦åˆã€ŒåŒå‘ BFSã€çš„é€‚ç”¨æƒ…å†µï¼Œå³ç»ˆç‚¹æ˜¯æ˜ç¡®çš„

```java
public int minMutation(String start, String end, String[] bank) {
    Set<String> bankSet = new HashSet<>(Arrays.asList(bank));
    if (!bankSet.contains(end)) return -1;
    Set<String> used = new HashSet<>();
    Set<String> q1 = new HashSet<>();
    Set<String> q2 = new HashSet<>();
    q1.add(start);
    q2.add(end);
    int count = 0;
    while (!q1.isEmpty() && !q2.isEmpty()) {
        Set<String> temp = new HashSet<>();
        for (String cur : q1) {
            if (q2.contains(cur)) return count;
            // æ ‡è®°
            used.add(cur);
            for (String gene : bankSet) {
                // isChangeOne() åŒä¸Š
                if (!used.contains(gene) && isChangeOne(cur, gene)) {
                    temp.add(gene);
                }
            }
        }
        q1 = q2;
        q2 = temp;
        count++;
    }
    return -1;
}
```

è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹ï¼Œ**<font color='red'>é€‰æ‹©æ°å½“æ ‡è®°çš„æ—¶æœº</font>**ã€‚ä¸å¯ä»¥åœ¨åŠ å…¥é˜Ÿåˆ—çš„æ—¶å€™æ ‡è®°ï¼Œä¸ç„¶è¿™æ ·ä¸€ä¸ªåŸºå› åªèƒ½åŠ å…¥ä¸€ç«¯çš„é˜Ÿåˆ—ä¸­ï¼Œè¿™æ ·è‚¯å®šå°±æ— æ³•åœ¨ä¸€ç«¯é˜Ÿåˆ—ä¸­æ‰¾åˆ°ç›¸åŒçš„åŸºå›  ğŸ§¬ï¼Œå› ä¸ºåŒå‘é˜Ÿåˆ—ä¸­çš„åŸºå› å„ä¸ç›¸åŒ

ä¸‹é¢ç»™å‡ºé”™è¯¯çš„ä»£ç ï¼ŒåŠ ä»¥è­¦ç¤ºï¼ï¼

```java
// æ ‡è®°
// used.add(cur);
for (String gene : bankSet) {
    // isChangeOne() åŒä¸Š
    if (!used.contains(gene) && isChangeOne(cur, gene)) {
        temp.add(gene);
        // é”™è¯¯æ ‡è®°æ—¶æœº
        used.add(gene);
    }
}
```
