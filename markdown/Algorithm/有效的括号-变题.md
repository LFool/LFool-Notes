# æœ‰æ•ˆçš„æ‹¬å·ã€Œå˜é¢˜ã€

[20. æœ‰æ•ˆçš„æ‹¬å·](https://leetcode.cn/problems/valid-parentheses/)



å¼€å¤´å…ˆæ¥ä¸€ä¸ªå°æ’æ›²ï¼Œå…³äºã€Œæ‹¬å·ã€ç›¸å…³çš„æ€»ç»“å¯è§ **[ç§’æ€æ‰€æœ‰æ‹¬å·ç±»é—®é¢˜](./ç§’æ€æ‰€æœ‰æ‹¬å·ç±»é—®é¢˜.html)**

```java
public boolean isValid(String s) {
    Deque<Character> st = new ArrayDeque<>();
    for (char c : s.toCharArray()) {
        if (c == '(' || c == '[' || c == '{') st.push(c);
        else if (!st.isEmpty()) {
            if (st.poll() != f(c)) return false;
        } else return false;
    }
    return st.isEmpty();
}
private char f(char c) {
    if (c == ')') return '(';
    else if (c == '}') return '{';
    return '[';
}
```

### <font color=#1FA774>å˜é¢˜ä¸€ï¼šä¸è¦æ±‚å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆ</font>

ä¹Ÿå°±æ˜¯å»æ‰äº† **[æœ‰æ•ˆçš„æ‹¬å·](https://leetcode.cn/problems/valid-parentheses/)** ä¸­çš„è¦æ±‚äºŒï¼ï¼

ğŸŒ° ä¸¾ä¸ªä¾‹å­ï¼š`[(])`è¿™ç§æƒ…å†µä¹Ÿæ˜¯æ»¡è¶³è¦æ±‚æ»´ï¼

```java
public boolean isValid(String s) {
    int[] cnt = new int[3];
    for (char c : s.toCharArray()) {
        if (c == '(' || c == '[' || c == '{') cnt[f(c)]++;
        else if (--cnt[f(c)] < 0) return false;
    }
    return cnt[0] == 0 && cnt[1] == 0 && cnt[2] == 0;
}
private int f(char c) {
    if (c == '(' || c == ')') return 0;
    if (c == '[' || c == ']') return 1;
    return 2;
}
```

### <font color=#1FA774>å˜é¢˜äºŒï¼šè¦æ±‚å¿…é¡»æŒ‰ { [ ( çš„é¡ºåºè¿›è¡Œå…³é—­</font>

ğŸŒ° ä¸¾ä¸ªä¾‹å­ï¼š`{[()]}, {}[()]`æ˜¯ç¬¦åˆè¦æ±‚çš„ï¼›`[{()}]`æ˜¯ä¸ç¬¦åˆè¦æ±‚çš„

æ¢å¥è¯è¯´ï¼Œ`{`çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œå®ƒå¯ä»¥åŒ…å«å…¶å®ƒä¸¤ç§ç±»å‹çš„æ‹¬å·ï¼›è€Œå…¶å®ƒä¸¤ç§ç±»å‹çš„æ‹¬å·ä¸èƒ½åŒ…å«å®ƒã€‚å…¶å®ƒä¸¤ç§åŒç†ï¼

**æ€è·¯ï¼š**åˆ†åˆ«ä¸º` { [ (`è®¾ç½®æƒé‡`2 1 0`ï¼Œå…¥æ ˆæ—¶åˆ¤æ–­æ ˆé¡¶ä¼˜å…ˆçº§æ˜¯å¦ä½äºå½“å‰å·¦æ‹¬å·ä¼˜å…ˆçº§ï¼Œå¦‚æœä½äºï¼Œåˆ™éæ³•

```java
public boolean isValid(String s) {
    // æŠ€å·§ï¼šæ ˆä¸­ç›´æ¥å­˜ä¼˜å…ˆçº§
    Deque<Integer> st = new ArrayDeque<>();
    for (char c : s.toCharArray()) {
        int w = f(c);
        if (c == '(' || c == '[' || c == '{') {
            // æ ˆä¸ä¸ºç©º ä¸” æ ˆé¡¶ä¼˜å…ˆçº§ä½äº c
            if (!st.isEmpty() && st.peek() < w) return false;
            st.push(w);
        } else if (!st.isEmpty()) {
            if (st.poll() != w) return false;
        } else return false;
    }
    return st.isEmpty();
}
private char f(char c) {
    if (c == '(' || c == ')') return 0; // ä½
    if (c == '[' || c == ']') return 1; // ä¸­
    return 2;                           // é«˜
}
```